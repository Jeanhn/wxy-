
### 生活

#### 健康
- 气虚，吃中药，确实有效果。
    - 继续坚持吃中药，多喝水。
- 玩手机过多，感觉大脑有些受损。
    - 减少玩手机频率，看书。
- 国庆开始运动。
    - 从跑1km开始。
    - 开始俯卧岑。
- 吃饭不要吃太多。
- 背要停止。
    - 防止腰肌劳损、颈椎病。

#### 人际
- 没必要过度的学习别人的长处。
    - 比如说废话。
- 适度培养技能。
    - 学三首歌。
    - 打王者荣耀。
    - 关注lol比赛。
    - 关注电子产品。
- 定期反思，随时记录。

---

### 学习

#### 总结

##### redis
- redis一致性哈希分片->每个分片都是一个主从集群。
- 一般的redis用作分布式锁，都是设定过期时间，没有用脚本来保证原子性（性能过低）。
- 一次redis操作时间大概是10ms以内。
- redis的作用不只是提升性能（一次mysql操作时间100ms内，并没有提升特别多），主要是为了帮mysql挡住大部分请求。
    - mysql在请求量很大的时候，性能会急剧下降（比如一个请求锁住了一张表，其他请求都要后面排队，就超时了），但redis不会。
- redis可以用作备用存储（和mysql同级别），采用双写策略。

##### rocketMQ
- mq有限流能力（在producer端配置），限流+延时消息 可以用于任务重试。
- 消费者使用推模式，相比拉模式的轮询，减少mq-broker服务器的资源消耗。
- 生产者用拉模式（生产后立即送到mq里）。

##### Golang
- 打日志打全。且错误日志中，err应该放到最后。
- 不同作用域的err最好要换个名称。
- 在同一个if里处理方法返回值。
- 不要使用channel（不要造轮子）。

##### mysql
- 业务里的sql语句应该设计的很简单。
- 如果mysql就可以抗住，那就不需要redis。

##### 案例：AI任务重试
- 背景：服务端把文本传入AI进行总结。
- 瓶颈：AI处理文字速度。
- 做法：如果服务端调用AI失败，就使用mq的延时消息+限流机制，完成后续的AI任务的重试。

#### 计划

##### redis & mysql
- 看《DDIA》以及《高性能mysql》

##### Golang & mq
- 看logrus。
- 跟项目，看PTD。

##### 技术方案
- 继续学习其他人的技术方案。结合代码。